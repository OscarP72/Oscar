{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/UsuarioM/git/becaonce2ed/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nexport class FronteraPaisPipe {\n  constructor(http, rutaActiva) {\n    this.http = http;\n    this.rutaActiva = rutaActiva;\n    this.paisEnRuta = this.rutaActiva.snapshot.params['pais'];\n  }\n  transform(value) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      try {\n        const response = yield _this.http.get(`https://restcountries.com/v3.1/alpha/${value}`).toPromise();\n        return response[0].name.common;\n      } catch (error) {\n        console.error(error);\n        return value;\n      }\n    })();\n  }\n  ngOnInit() {\n    console.log(\"entro en on init\");\n    console.log(\"pais:\" + this.paisEnRuta);\n    this['service'].dameDatos(\"https://restcountries.com/v3.1/name/\" + this.paisEnRuta).then(datos => {\n      console.log(datos);\n      this.datos = datos[0];\n    }).catch(error => {\n      console.error(error);\n    });\n  }\n}\nFronteraPaisPipe.ɵfac = function FronteraPaisPipe_Factory(t) {\n  return new (t || FronteraPaisPipe)(i0.ɵɵdirectiveInject(i1.HttpClient, 16), i0.ɵɵdirectiveInject(i2.ActivatedRoute, 16));\n};\nFronteraPaisPipe.ɵpipe = /*@__PURE__*/i0.ɵɵdefinePipe({\n  name: \"fronteraPais\",\n  type: FronteraPaisPipe,\n  pure: true\n});","map":{"version":3,"mappings":";;;;AAOA,OAAM,MAAOA,gBAAgB;EAK3BC,YACUC,IAAgB,EAChBC,UAA0B;IAD1B,SAAI,GAAJD,IAAI;IACJ,eAAU,GAAVC,UAAU;IAGlB,IAAI,CAACC,UAAU,GAAG,IAAI,CAACD,UAAU,CAACE,QAAQ,CAACC,MAAM,CAAC,MAAM,CAAC;EAC3D;EAEMC,SAAS,CAACC,KAAa;IAAA;IAAA;MAC3B,IAAI;QACF,MAAMC,QAAQ,SAAS,KAAI,CAACP,IAAI,CAC7BQ,GAAG,CAAC,wCAAwCF,KAAK,EAAE,CAAC,CACpDG,SAAS,EAAE;QAEd,OAAQF,QAAkB,CAAC,CAAC,CAAC,CAACG,IAAI,CAACC,MAAM;OAC1C,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;QACpB,OAAON,KAAK;;IACb;EACH;EAEAQ,QAAQ;IACND,OAAO,CAACE,GAAG,CAAC,kBAAkB,CAAC;IAE/BF,OAAO,CAACE,GAAG,CAAC,OAAO,GAAG,IAAI,CAACb,UAAU,CAAC;IACtC,IAAI,CAAC,SAAS,CAAC,CAACc,SAAS,CAAC,sCAAsC,GAAG,IAAI,CAACd,UAAU,CAAC,CAChFe,IAAI,CAAEC,KAAU,IAAI;MACnBL,OAAO,CAACE,GAAG,CAACG,KAAK,CAAC;MAClB,IAAI,CAACA,KAAK,GAAGA,KAAK,CAAC,CAAC,CAAC;IACvB,CAAC,CAAC,CACDC,KAAK,CAAEP,KAAU,IAAI;MACpBC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IACtB,CAAC,CAAC;EACN;;AAtCWd,gBAAgB;mBAAhBA,gBAAgB;AAAA;AAAhBA,gBAAgB;;QAAhBA,gBAAgB;EAAAsB;AAAA","names":["FronteraPaisPipe","constructor","http","rutaActiva","paisEnRuta","snapshot","params","transform","value","response","get","toPromise","name","common","error","console","ngOnInit","log","dameDatos","then","datos","catch","pure"],"sourceRoot":"","sources":["C:\\Users\\UsuarioM\\git\\becaonce2ed\\src\\app\\frontera-pais.pipe.ts"],"sourcesContent":["import { Pipe, PipeTransform } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { ActivatedRoute } from '@angular/router';\n\n@Pipe({\n  name: 'fronteraPais'\n})\nexport class FronteraPaisPipe implements PipeTransform {\n  [x: string]: any;\n  paisEnRuta: string;\n  datos: any;\n\n  constructor(\n    private http: HttpClient,\n    private rutaActiva: ActivatedRoute,\n   \n  ) {\n    this.paisEnRuta = this.rutaActiva.snapshot.params['pais'];\n  }\n\n  async transform(value: string): Promise<string> {\n    try {\n      const response = await this.http\n        .get(`https://restcountries.com/v3.1/alpha/${value}`)\n        .toPromise();\n\n      return (response as any[])[0].name.common;\n    } catch (error) {\n      console.error(error);\n      return value;\n    }\n  }\n  \n  ngOnInit(): void {\n    console.log(\"entro en on init\")\n\n    console.log(\"pais:\" + this.paisEnRuta)\n    this['service'].dameDatos(\"https://restcountries.com/v3.1/name/\" + this.paisEnRuta)\n      .then((datos: any) => {\n        console.log(datos)\n        this.datos = datos[0];\n      })\n      .catch((error: any) => {\n        console.error(error);\n      });\n  }\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}