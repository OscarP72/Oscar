<div class="container mt-3">
    <h3 class="pb-3">Lista de productos</h3>
    <ng-template #modalProductAdd>
      <div class="modal-header">
        <h4 class="modal-title">Añadir nuevo producto</h4>
        <!--<button type="button" class="btn-close" (click)="closeModal()"></button>-->
      </div>
      <div class="modal-body">
        <form>

        </form>
      </div>
      <div class="modal-footer">
        <!--<button type="button" class="btn btn-primary" (click)="closeModal()">Guardar</button>
        <button type="button" class="btn btn-secondary" (click)="closeModal()">Cancelar</button>-->
      </div>
    </ng-template>
    <!--<button type="button" class="btn btn-primary d-md-block me-2 mt-2 mb-2 rounded-0" (click)="openModal(modalProductAdd)">Añadir nuevo producto</button>-->
    <input type="text" [(ngModel)]="searchText" (input)="filterData()" placeholder="Buscar por descripción" class="w-100 form-control rounded-0">

    <table class="table table-hover">
      <thead>
        <tr>
          <th (click)="sortData('id')" style="cursor: pointer;">Nº <i class="bi" [ngClass]="{'bi-sort-down-alt': sortKey === 'id' && sortDirection === 'asc', 'bi-sort-up-alt': sortKey === 'id' && sortDirection === 'desc'}"></i></th>
          <th>Foto</th>
          <th (click)="sortData('description')" style="cursor: pointer;">Descripción <i class="bi" [ngClass]="{'bi-sort-down-alt': sortKey === 'description' && sortDirection === 'asc', 'bi-sort-up-alt': sortKey === 'description' && sortDirection === 'desc'}"></i></th>
          <th (click)="sortData('price')" style="cursor: pointer;">Importe <i class="bi" [ngClass]="{'bi-sort-down-alt': sortKey === 'price' && sortDirection === 'asc', 'bi-sort-up-alt': sortKey === 'price' && sortDirection === 'desc'}"></i></th>
          <th (click)="sortData('stock')" style="cursor: pointer;">Existencia <i class="bi" [ngClass]="{'bi-sort-down-alt': sortKey === 'stock' && sortDirection === 'asc', 'bi-sort-up-alt': sortKey === 'stock' && sortDirection === 'desc'}"></i></th>
          <th (click)="sortData('subcategories_id')" style="cursor: pointer;">SubCategoria <i class="bi bi-sort-down-alt"></i> <i class="bi" [ngClass]="{'bi-sort-down-alt': sortKey === 'subcategories_id' && sortDirection === 'asc', 'bi-sort-up-alt': sortKey === 'subcategories_id' && sortDirection === 'desc'}"></i></th>
          <th></th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td  class="align-middle"></td>
          <td  class="align-middle"></td>
          <td  class="align-middle"></td>
          <td  class="align-middle"></td>
          <td  class="align-middle"></td>
          <td  class="align-middle"></td>
          <td  class="align-middle"></td>
          <td  class="align-middle"></td>
        </tr>
        <tr *ngFor="let item of filteredData">
          <td  class="align-middle">{{ item.id }}</td>
          <td  class="align-middle"><img src="{{ item.image }}" alt="Imagen" width="15" height="15"></td>
          <td  class="align-middle">{{ item.description }}</td>
          <td  class="align-middle">{{ item.price }}</td>
          <td  class="align-middle">{{ item.stock }}</td>
          <td  class="align-middle">{{ item.subcategories_id }}</td>
          <td  class="align-middle"><button class="btn btn-success rounded-0 me-1 btn-icon"><i class="bi bi-pencil-fill"></i></button><button class="btn btn-danger rounded-0 btn-icon"><i class="bi bi-trash3-fill"></i></button></td>
          <td  class="align-middle"></td>
        </tr>
      </tbody>

    </table>
    <p class="text-end" style="font-size: 0.8rem; color:#818181;">{{elements}}</p>
  </div>
